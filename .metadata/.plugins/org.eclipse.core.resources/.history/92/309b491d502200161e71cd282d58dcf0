package AutomaticService;

import java.util.Dictionary;
import java.util.Hashtable;

import com.skype.ChatMessage;
import com.skype.ChatMessageAdapter;
import com.skype.Skype;
import com.skype.SkypeException;
import com.skype.User;

public class AutoAnswering {

	static Dictionary Clients = new Hashtable();
	
	 public static void main(String[] args) throws Exception {
		 
	        System.out.println("Start Auto Answering ...");
	         
	        // To prevent exiting from this program
	        Skype.setDaemon(false);
	         
	        Skype.addChatMessageListener(new ChatMessageAdapter() {
	            public void chatMessageReceived(ChatMessage received)
	                    throws SkypeException {
	                if (received.getType().equals(ChatMessage.Type.SAID)) {
	                	
	                    User sender =received.getSender();    
	                     
	                    System.out.println(sender.getId() +" say:");
	                    System.out.println(" "+received.getContent() );
	                    
	                    String answer = Answer(sender.getId(), received.getContent());
	                    
	                    received.getSender().send(
	                            "Hello, this is automatic Call Center!");
	                    received.getSender().send("Choose what you want to do\n" 
	                    + "press 1 to log in"
	                    + "press 2 to connect to an agent"
	                    + "press 3 to hear options again");

	                    System.out.println(" - Auto answered!");
	                }
	            }
	        });
	         
	         
	        System.out.println("Auto Answering started!");
	    }
	 
	 private static tring Answer(String user, String message){
		 
		 if(Clients.get(user)==null){
			 Clients.put(user, "state0");
		 }
	 }
}
